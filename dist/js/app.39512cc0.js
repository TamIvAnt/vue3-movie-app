(function(){"use strict";var a={4443:function(a,t,e){var o=e(9242),s=e(3396);function p(a,t,e,o,p,i){const n=(0,s.up)("movieApp");return(0,s.wg)(),(0,s.j4)(n)}var i=e(7139);const n={class:"header_content"},_=(0,s._)("h1",null,[(0,s._)("span",{class:"headerShow"},"MoviaApp"),(0,s.Uk)(),(0,s._)("img",{src:"https://img.icons8.com/office/30/000000/movie-projector.png"})],-1),r={class:"btn_change_url_top"},l=["placeholder"],c={key:0,class:"top_text"},u={key:1,class:"top_text"},R={key:2,class:"top_text"},h={class:"container"},d=["onClick"],U=(0,s._)("div",{class:"card__img__dark"},null,-1),g=["src","alt"],P={class:"card__name"},C={class:"card__year"},A=(0,s.Uk)(" Год выпуска:   "),E={class:"card__year__item"},T={class:"card__genre"},f={class:"pagination_box__txt"},v={class:"pagination_box desctop"},w=["onClick"];function I(a,t,e,p,I,m){const N=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("header",null,[(0,s._)("div",n,[_,(0,s._)("div",r,[(0,s._)("button",{class:(0,i.C_)(["btn url_top_100",{active:"100"==I.NAME_CATIGORY_NAME_CURRENT}]),onClick:t[0]||(t[0]=a=>(I.topName="ТОП 100",I.PAGE_CURRENT=1,I.NAME_CATIGORY_NAME_CURRENT="100",m.getMovies(I.API_URL_TOP_100,1)))}," Топ 100 ",2),(0,s._)("button",{class:(0,i.C_)(["btn url_top_250",{active:"250"==I.NAME_CATIGORY_NAME_CURRENT}]),onClick:t[1]||(t[1]=a=>(I.topName="ТОП 250",I.PAGE_CURRENT=1,I.NAME_CATIGORY_NAME_CURRENT="250",m.getMovies(I.API_URL_TOP_250,1)))}," Топ 250 ",2),(0,s._)("button",{class:(0,i.C_)(["btn url_awaits",{active:"await"==I.NAME_CATIGORY_NAME_CURRENT}]),onClick:t[2]||(t[2]=a=>(I.topName="ОЖИДАЕМЫЕ",I.PAGE_CURRENT=1,I.NAME_CATIGORY_NAME_CURRENT="await",m.getMovies(I.API_URL_AWAIT,1)))}," Ожидаемые ",2)]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:I.myPlaceholder,"onUpdate:modelValue":t[3]||(t[3]=a=>I.search=a),onKeyup:t[4]||(t[4]=(0,o.D2)((a=>(I.topName=I.search,I.searchSave=I.search,I.NAME_CATIGORY_NAME_CURRENT="",m.getMovies(I.API_URL_SEARCH))),["enter"]))},null,40,l),[[o.nr,I.search]])])]),"ОЖИДАЕМЫЕ"==I.topName||"ТОП 250"==I.topName||"ТОП 100"==I.topName?((0,s.wg)(),(0,s.iD)("h2",c)):0==I.respData.length?((0,s.wg)(),(0,s.iD)("h2",u," Неудалось ни чего найти! ")):((0,s.wg)(),(0,s.iD)("h2",R,"По запросу:  "+(0,i.zw)(I.topName),1)),(0,s._)("div",h,[(0,s.Wm)(N,{onClose:m.closePopup,SHOWPOPUP:I.SHOWPOPUP,popUp_Data:I.popUp_Data,FILMID:I.FILMID,CURRENT_RATING:I.CURRENT_RATING,trailersData:I.trailersData,URL_TRAILER_SIMBOL:I.URL_TRAILER_SIMBOL,showTrailer:I.showTrailer},null,8,["onClose","SHOWPOPUP","popUp_Data","FILMID","CURRENT_RATING","trailersData","URL_TRAILER_SIMBOL","showTrailer"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.respData,(a=>((0,s.wg)(),(0,s.iD)("div",{class:"card",key:a.filmId},[(0,s._)("div",{class:"card__img__inner",onClick:t=>(I.FILMID=a.filmId,I.CURRENT_RATING=a.rating,m.getMoviesForId(I.API_URL_SEARCH_MOVIE_ID,I.FILMID),m.showPopup())},[U,(0,s._)("img",{class:"card__img",src:a.posterUrlPreview,alt:a.nameRu},null,8,g)],8,d),(0,s._)("p",P,(0,i.zw)(a.nameRu),1),(0,s._)("p",C,[A,(0,s._)("span",E,(0,i.zw)(a.year),1)]),(0,s._)("span",T,(0,i.zw)(a.genres[0].genre),1),(0,s._)("p",{class:(0,i.C_)(["card__rating",{green:a.rating>=7||a.rating>="70%",yellow:a.rating>5&a.rating<7||a.rating>"50%"&a.rating<"70%",red:a.rating<5||a.rating<"50%"}])},(0,i.zw)(a.rating),3)])))),128))]),(0,s._)("div",{class:(0,i.C_)(["pagination_box mobile",{none:0==I.respPageCount}])},[(0,s._)("button",{class:(0,i.C_)(["lang",{disabled:1==I.PAGE_CURRENT}]),onClick:t[5]||(t[5]=a=>m.lastPage(I.PAGE_CURRENT))}," ⟨ ",2),(0,s._)("p",f,(0,i.zw)(I.PAGE_CURRENT),1),(0,s._)("button",{class:(0,i.C_)(["lang",{disabled:I.PAGE_CURRENT==I.respPageCount}]),onClick:t[6]||(t[6]=a=>m.nextPage(I.PAGE_CURRENT))}," ⟩ ",2)],2),(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.respPageCount,(a=>((0,s.wg)(),(0,s.iD)("button",{class:(0,i.C_)(["btn_swipe_page",{active:a==I.PAGE_CURRENT}]),key:a,onClick:t=>(I.PAGE_CURRENT=a,m.getMovies(I.URL_CURRENT,I.PAGE_CURRENT))},(0,i.zw)(a),11,w)))),128))])],64)}const m="5dcd148b-1f37-4530-8cd3-27196447445d",N="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_250_BEST_FILMS&page=1",L="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1",y="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_AWAIT_FILMS&page=1",b="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=",D="https://kinopoiskapiunofficial.tech/api/v2.1/films/",O="https://kinopoiskapiunofficial.tech/api/v2.1/films/",M=a=>((0,s.dD)("data-v-380c11bf"),a=a(),(0,s.Cn)(),a),k={class:"popup_wrapper"},S={key:0,class:"popup"},G={class:"popup_header"},H={class:"popup_body"},F={class:"popup_body__left"},Y=["src","alt"],x={class:"popup_body__left__content"},z={class:"popup_body__right"},j=M((()=>(0,s._)("span",{class:"popup_body_span"},"Описание",-1))),W=M((()=>(0,s._)("span",{class:"popup_body_span"}," Год выпуска ",-1))),B=M((()=>(0,s._)("span",{class:"popup_body_span"}," Рейтинг ",-1))),K=M((()=>(0,s._)("span",{class:"popup_body_span"}," Хронометраж ",-1))),q=M((()=>(0,s._)("p",null,[(0,s._)("span",{class:"popup_body_span"},"Трейлер"),(0,s.Uk)(":   ")],-1))),V=["src"],X={class:"popup_body__link_watch"},Z=M((()=>(0,s._)("p",{class:"popup_body_span"}," Смотреть:    ",-1))),$=["href"],J={class:"popup_footer"};function Q(a,t,e,o,p,n){return(0,s.wg)(),(0,s.iD)("div",k,[e.SHOWPOPUP&e.FILMID==e.popUp_Data.filmId?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",G,[(0,s._)("h3",null,(0,i.zw)(e.popUp_Data.nameRu),1),(0,s._)("p",{class:"close_popup",onClick:t[0]||(t[0]=t=>a.$emit("close","SHOWPOPUP"))},"x")]),(0,s._)("div",H,[(0,s._)("div",F,[(0,s._)("img",{class:"img_popup",src:e.popUp_Data.posterUrlPreview,alt:e.popUp_Data.nameRu},null,8,Y),(0,s._)("div",x,[(0,s._)("p",{class:(0,i.C_)({show:null!=e.popUp_Data.ratingAgeLimits,none:null==e.popUp_Data.ratingAgeLimits})},(0,i.zw)(e.popUp_Data.ratingAgeLimits)+"+ ",3),(0,s._)("p",null,(0,i.zw)(e.popUp_Data.genres[0].genre),1)])]),(0,s._)("div",z,[(0,s._)("p",{class:(0,i.C_)({show:null!=e.popUp_Data.description,none:null==e.popUp_Data.description})},[j,(0,s.Uk)(":  "+(0,i.zw)(e.popUp_Data.description),1)],2),(0,s._)("p",{class:(0,i.C_)({show:"FILM"==e.popUp_Data.type,none:null==e.popUp_Data.filmLength})},[W,(0,s.Uk)(":  "+(0,i.zw)(e.popUp_Data.year),1)],2),(0,s._)("p",{class:(0,i.C_)({show:"FILM"==e.popUp_Data.type,none:null==e.popUp_Data.filmLength})},[B,(0,s.Uk)(":  "+(0,i.zw)(e.CURRENT_RATING),1)],2),(0,s._)("p",{class:(0,i.C_)({show:"FILM"==e.popUp_Data.type,none:null==e.popUp_Data.filmLength})},[K,(0,s.Uk)(":  "+(0,i.zw)(e.popUp_Data.filmLength),1)],2),(0,s._)("div",{class:(0,i.C_)(["popup_body__trailer",{showTrailer:1==e.showTrailer,noneTrailer:0==e.showTrailer}])},[q,(0,s._)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/"+e.URL_TRAILER_SIMBOL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},"\r\n                        ",8,V)],2),(0,s._)("div",X,[Z,(0,s._)("a",{class:"link_watch show",href:e.popUp_Data.webUrl},(0,i.zw)(e.popUp_Data.webUrl),9,$)])])]),(0,s._)("div",J,[(0,s._)("p",{class:"close_popup",onClick:t[1]||(t[1]=t=>a.$emit("close","SHOWPOPUP"))},"Закрыть")])])):(0,s.kq)("",!0)])}var aa={props:["SHOWPOPUP","popUp_Data","FILMID","CURRENT_RATING","trailersData","URL_TRAILER_SIMBOL","showTrailer"]},ta=e(89);const ea=(0,ta.Z)(aa,[["render",Q],["__scopeId","data-v-380c11bf"]]);var oa=ea,sa={data(){return{API_KEY:m,API_URL_TOP_250:N,API_URL_TOP_100:L,API_URL_AWAIT:y,API_URL_SEARCH:b,API_URL_TRAILER:D,API_URL_SEARCH_MOVIE_ID:O,URL_CURRENT:"",PAGE_CURRENT:1,NAME_CATIGORY_NAME_CURRENT:"100",respData:{},popUp_Data:{},trailersData:[],respPageCount:0,myPlaceholder:"Поиск",search:"",searchSave:"",topName:"ТОП 100",SHOWPOPUP:!1,FILMID:0,CURRENT_RATING:"",URL_TRAILER_SIMBOL:"",showTrailer:!0}},components:{popup:oa},methods:{async getMovies(a,t){void 0==t&&(t=""),this.search&&(a+=this.search,this.search=""),a=a.substring(0,a.length-1)+t,this.URL_CURRENT=a;const e=await fetch(a,{headers:{"Content-Type":"aplication/json","X-API-KEY":m}}),o=await e.json();this.respData=o.films,this.searchSave=this.searchSave.substring(0,this.searchSave.length-1),a==this.API_URL_SEARCH+this.searchSave?this.respPageCount=0:o.pagesCount>25?this.respPageCount=15:this.respPageCount=o.pagesCount,window.scrollTo(0,0)},async getMoviesForId(a,t){a+=t;const e=await fetch(a,{headers:{"Content-Type":"aplication/json","X-API-KEY":m}}),o=await e.json();this.popUp_Data=o.data,console.log(this.popUp_Data.type),this.showPopup(),this.getTrailer(D,t)},async getTrailer(a,t){a=a+t+"/videos";const e=await fetch(a,{headers:{"Content-Type":"aplication/json","X-API-KEY":m}}),o=await e.json();if(this.trailersData=o.trailers,0==o.trailers.length)this.showTrailer=!1;else{let a=o.trailers[0].url;43==a.length?(a=o.trailers[0].url,a=a.substring(32),this.URL_TRAILER_SIMBOL=a):(a=a.substring(17),this.URL_TRAILER_SIMBOL=a)}},nextPage(a){a>=this.respPageCount||(a++,this.PAGE_CURRENT=a,this.getMovies(this.URL_CURRENT,this.PAGE_CURRENT))},lastPage(a){1!=a&&(a--,this.PAGE_CURRENT=a,this.getMovies(this.URL_CURRENT,this.PAGE_CURRENT))},showPopup(){this.SHOWPOPUP=!0;const a=document.querySelector("body");a.classList.add("lock")},closePopup(){this.SHOWPOPUP=!1;const a=document.querySelector("body");a.classList.remove("lock")}},beforeMount(){this.getMovies(L,1)}};const pa=(0,ta.Z)(sa,[["render",I]]);var ia=pa,na={name:"App",components:{movieApp:ia}};const _a=(0,ta.Z)(na,[["render",p]]);var ra=_a;(0,o.ri)(ra).mount("#app")}},t={};function e(o){var s=t[o];if(void 0!==s)return s.exports;var p=t[o]={exports:{}};return a[o](p,p.exports,e),p.exports}e.m=a,function(){var a=[];e.O=function(t,o,s,p){if(!o){var i=1/0;for(l=0;l<a.length;l++){o=a[l][0],s=a[l][1],p=a[l][2];for(var n=!0,_=0;_<o.length;_++)(!1&p||i>=p)&&Object.keys(e.O).every((function(a){return e.O[a](o[_])}))?o.splice(_--,1):(n=!1,p<i&&(i=p));if(n){a.splice(l--,1);var r=s();void 0!==r&&(t=r)}}return t}p=p||0;for(var l=a.length;l>0&&a[l-1][2]>p;l--)a[l]=a[l-1];a[l]=[o,s,p]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var o in t)e.o(t,o)&&!e.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:t[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){var a={143:0};e.O.j=function(t){return 0===a[t]};var t=function(t,o){var s,p,i=o[0],n=o[1],_=o[2],r=0;if(i.some((function(t){return 0!==a[t]}))){for(s in n)e.o(n,s)&&(e.m[s]=n[s]);if(_)var l=_(e)}for(t&&t(o);r<i.length;r++)p=i[r],e.o(a,p)&&a[p]&&a[p][0](),a[p]=0;return e.O(l)},o=self["webpackChunkvue3_movie_app_second"]=self["webpackChunkvue3_movie_app_second"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(4443)}));o=e.O(o)})();
//# sourceMappingURL=app.39512cc0.js.map