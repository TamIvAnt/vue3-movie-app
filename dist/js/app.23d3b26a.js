(function(e){function t(t){for(var n,p,r=t[0],s=t[1],i=t[2],_=0,u=[];_<r.length;_++)p=r[_],Object.prototype.hasOwnProperty.call(c,p)&&c[p]&&u.push(c[p][0]),c[p]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(u.length)u.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==c[s]&&(n=!1)}n&&(o.splice(t--,1),e=p(p.s=a[0]))}return e}var n={},c={app:0},o=[];function p(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,p),a.l=!0,a.exports}p.m=e,p.c=n,p.d=function(e,t,a){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},p.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,t){if(1&t&&(e=p(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(p.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)p.d(a,n,function(t){return e[t]}.bind(null,n));return a},p.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var i=0;i<r.length;i++)t(r[i]);var l=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"359f":function(e,t,a){"use strict";a("b470")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function c(e,t,a,c,o,p){var r=Object(n["k"])("movieApp");return Object(n["g"])(),Object(n["c"])(r)}a("ac1f"),a("841c");var o={class:"header_content"},p=Object(n["f"])("h1",null,"MoviaApp",-1),r={class:"btn_change_url_top"},s={key:0,class:"top_text"},i={key:1,class:"top_text"},l={key:2,class:"top_text"},_={class:"container"},u=Object(n["f"])("div",{class:"card__img__dark"},null,-1),b={class:"card__name"},O={class:"card__year"},f=Object(n["e"])(" Год выпуска:   "),R={class:"card__year__item"},d={class:"card__genre"},j={class:"pagination_box__txt"},h={class:"pagination_box desctop"};function U(e,t,a,c,U,g){var P=Object(n["k"])("popup");return Object(n["g"])(),Object(n["c"])(n["a"],null,[Object(n["f"])("header",null,[Object(n["f"])("div",o,[p,Object(n["n"])(Object(n["f"])("input",{type:"text",placeholder:U.myPlaceholder,"onUpdate:modelValue":t[1]||(t[1]=function(e){return U.search=e}),onKeyup:t[2]||(t[2]=Object(n["o"])((function(e){return U.topName=U.search,U.searchSave=U.search,U.NAME_CATIGORY_NAME_CURRENT="",g.getMovies(U.API_URL_SEARCH)}),["enter"]))},null,40,["placeholder"]),[[n["m"],U.search]])])]),Object(n["f"])("div",r,[Object(n["f"])("button",{class:["btn url_top_100",{active:"100"==U.NAME_CATIGORY_NAME_CURRENT}],onClick:t[3]||(t[3]=function(e){return U.topName="ТОП 100",U.PAGE_CURRENT=1,U.NAME_CATIGORY_NAME_CURRENT="100",g.getMovies(U.API_URL_TOP_100,1)})}," Топ 100 ",2),Object(n["f"])("button",{class:["btn url_top_250",{active:"250"==U.NAME_CATIGORY_NAME_CURRENT}],onClick:t[4]||(t[4]=function(e){return U.topName="ТОП 250",U.PAGE_CURRENT=1,U.NAME_CATIGORY_NAME_CURRENT="250",g.getMovies(U.API_URL_TOP_250,1)})}," Топ 250 ",2),Object(n["f"])("button",{class:["btn url_awaits",{active:"await"==U.NAME_CATIGORY_NAME_CURRENT}],onClick:t[5]||(t[5]=function(e){return U.topName="ОЖИДАЕМЫЕ",U.PAGE_CURRENT=1,U.NAME_CATIGORY_NAME_CURRENT="await",g.getMovies(U.API_URL_AWAIT,1)})}," Ожидаемые ",2)]),"ОЖИДАЕМЫЕ"==U.topName||"ТОП 250"==U.topName||"ТОП 100"==U.topName?(Object(n["g"])(),Object(n["c"])("h2",s)):0==U.respData.length?(Object(n["g"])(),Object(n["c"])("h2",i," Неудалось ни чего найти! ")):(Object(n["g"])(),Object(n["c"])("h2",l,"По запросу:  "+Object(n["l"])(U.topName),1)),Object(n["f"])("div",_,[Object(n["f"])(P,{onClose:g.closePopup,SHOWPOPUP:U.SHOWPOPUP,popUp_Data:U.popUp_Data,FILMID:U.FILMID,CURRENT_RATING:U.CURRENT_RATING,trailersData:U.trailersData,URL_TRAILER_SIMBOL:U.URL_TRAILER_SIMBOL},null,8,["onClose","SHOWPOPUP","popUp_Data","FILMID","CURRENT_RATING","trailersData","URL_TRAILER_SIMBOL"]),(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(U.respData,(function(e){return Object(n["g"])(),Object(n["c"])("div",{class:"card",key:e.filmId},[Object(n["f"])("div",{class:"card__img__inner",onClick:function(t){return U.FILMID=e.filmId,U.CURRENT_RATING=e.rating,g.getMoviesForId(U.API_URL_SEARCH_MOVIE_ID,U.FILMID),g.showPopup()}},[u,Object(n["f"])("img",{class:"card__img",src:e.posterUrlPreview,alt:e.nameRu},null,8,["src","alt"])],8,["onClick"]),Object(n["f"])("p",b,Object(n["l"])(e.nameRu),1),Object(n["f"])("p",O,[f,Object(n["f"])("span",R,Object(n["l"])(e.year),1)]),Object(n["f"])("span",d,Object(n["l"])(e.genres[0].genre),1),Object(n["f"])("p",{class:["card__rating",{green:e.rating>=7,yellow:e.rating>5&e.rating<7,red:e.rating<5}]},Object(n["l"])(e.rating),3)])})),128))]),Object(n["f"])("div",{class:["pagination_box mobile",{none:0==U.respPageCount}]},[Object(n["f"])("button",{class:["lang",{disabled:1==U.PAGE_CURRENT}],onClick:t[6]||(t[6]=function(e){return g.lastPage(U.PAGE_CURRENT)})}," ⟨ ",2),Object(n["f"])("p",j,Object(n["l"])(U.PAGE_CURRENT),1),Object(n["f"])("button",{class:["lang",{disabled:U.PAGE_CURRENT==U.respPageCount}],onClick:t[7]||(t[7]=function(e){return g.nextPage(U.PAGE_CURRENT)})}," ⟩ ",2)],2),Object(n["f"])("div",h,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(U.respPageCount,(function(e){return Object(n["g"])(),Object(n["c"])("button",{class:["btn",{active:e==U.PAGE_CURRENT}],key:e,onClick:function(t){return U.PAGE_CURRENT=e,g.getMovies(U.URL_CURRENT,U.PAGE_CURRENT)}},Object(n["l"])(e),11,["onClick"])})),128))])],64)}var g=a("1da1"),P=(a("96cf"),a("d3b7"),"5dcd148b-1f37-4530-8cd3-27196447445d"),v="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_250_BEST_FILMS&page=1",E="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1",A="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_AWAIT_FILMS&page=1",I="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=",T="https://kinopoiskapiunofficial.tech/api/v2.1/films/",C="https://kinopoiskapiunofficial.tech/api/v2.1/films/",m=(a("a4d3"),a("e01a"),Object(n["p"])("data-v-714d1ae6"));Object(n["i"])("data-v-714d1ae6");var y={class:"popup_wrapper"},N={key:0,class:"popup"},L={class:"popup_header"},M={class:"popup_body"},w={class:"popup_body__left"},D={class:"popup_body__left__content"},S={class:"popup_body__right"},k=Object(n["f"])("span",{class:"popup_body_span"},"Описание",-1),G=Object(n["f"])("span",{class:"popup_body_span"}," Год выпуска ",-1),x=Object(n["f"])("span",{class:"popup_body_span"}," Рейтинг ",-1),H=Object(n["f"])("span",{class:"popup_body_span"}," Хронометраж ",-1),F=Object(n["f"])("span",{class:"popup_body_span"}," Хронометраж серии ",-1),W={class:"popup_body__trailer"},Y=Object(n["f"])("p",null,[Object(n["f"])("span",{class:"popup_body_span"},"Трейлер"),Object(n["e"])(":   ")],-1),B={class:"popup_body__link_watch"},V=Object(n["f"])("p",{class:"popup_body_span"}," Смотреть:    ",-1),K={class:"popup_footer"};Object(n["h"])();var X=m((function(e,t,a,c,o,p){return Object(n["g"])(),Object(n["c"])("div",y,[a.SHOWPOPUP&a.FILMID==a.popUp_Data.filmId?(Object(n["g"])(),Object(n["c"])("div",N,[Object(n["f"])("div",L,[Object(n["f"])("h3",null,Object(n["l"])(a.popUp_Data.nameRu),1),Object(n["f"])("p",{class:"close_popup",onClick:t[1]||(t[1]=function(t){return e.$emit("close","SHOWPOPUP")})},"x")]),Object(n["f"])("div",M,[Object(n["f"])("div",w,[Object(n["f"])("img",{class:"img_popup",src:a.popUp_Data.posterUrlPreview,alt:a.popUp_Data.nameRu},null,8,["src","alt"]),Object(n["f"])("div",D,[Object(n["f"])("p",{class:{show:null!=a.popUp_Data.ratingAgeLimits,none:null==a.popUp_Data.ratingAgeLimits}},Object(n["l"])(a.popUp_Data.ratingAgeLimits)+"+ ",3),Object(n["f"])("p",null,Object(n["l"])(a.popUp_Data.genres[0].genre),1)])]),Object(n["f"])("div",S,[Object(n["f"])("p",{class:{show:null!=a.popUp_Data.description,none:null==a.popUp_Data.description}},[k,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.description),1)],2),Object(n["f"])("p",null,[G,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.year),1)]),Object(n["f"])("p",null,[x,Object(n["e"])(":  "+Object(n["l"])(a.CURRENT_RATING),1)]),Object(n["f"])("p",{class:{show:"FILM"==a.popUp_Data.type,none:"TV_SHOW"==a.popUp_Data.type||"TV_SERIES"==a.popUp_Data.type}},[H,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.filmLength),1)],2),Object(n["f"])("p",{class:{show:"TV_SHOW"==a.popUp_Data.type||"TV_SERIES"==a.popUp_Data.type,none:"FILM"==a.popUp_Data.type}},[F,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.filmLength),1)],2),Object(n["f"])("div",W,[Y,Object(n["f"])("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/"+a.URL_TRAILER_SIMBOL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},"\r\n                        ",8,["src"])]),Object(n["f"])("div",B,[V,Object(n["f"])("a",{class:"link_watch",href:a.popUp_Data.webUrl},Object(n["l"])(a.popUp_Data.webUrl),9,["href"])])])]),Object(n["f"])("div",K,[Object(n["f"])("p",{class:"close_popup",onClick:t[2]||(t[2]=function(t){return e.$emit("close","SHOWPOPUP")})},"Закрыть")])])):Object(n["d"])("",!0)])})),q={props:["SHOWPOPUP","popUp_Data","FILMID","CURRENT_RATING","trailersData","URL_TRAILER_SIMBOL"]};a("359f");q.render=X,q.__scopeId="data-v-714d1ae6";var J=q,$={data:function(){return{API_KEY:P,API_URL_TOP_250:v,API_URL_TOP_100:E,API_URL_AWAIT:A,API_URL_SEARCH:I,API_URL_TRAILER:T,API_URL_SEARCH_MOVIE_ID:C,URL_CURRENT:"",PAGE_CURRENT:1,NAME_CATIGORY_NAME_CURRENT:"100",respData:{},popUp_Data:{},trailersData:[],respPageCount:0,myPlaceholder:"Поиск",search:"",searchSave:"",topName:"ТОП 100",SHOWPOPUP:!1,FILMID:0,CURRENT_RATING:"",URL_TRAILER_SIMBOL:""}},components:{popup:J},methods:{getMovies:function(e,t){var a=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return void 0==t&&(t=""),a.search&&(e+=a.search,a.search=""),e=e.substring(0,e.length-1)+t,a.URL_CURRENT=e,n.next=6,fetch(e,{headers:{"Content-Type":"aplication/json","X-API-KEY":P}});case 6:return c=n.sent,n.next=9,c.json();case 9:o=n.sent,a.respData=o.films,a.searchSave=a.searchSave.substring(0,a.searchSave.length-1),e==a.API_URL_SEARCH+a.searchSave?a.respPageCount=0:o.pagesCount>25?a.respPageCount=15:a.respPageCount=o.pagesCount,window.scrollTo(0,0);case 14:case"end":return n.stop()}}),n)})))()},getMoviesForId:function(e,t){var a=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e+=t,n.next=3,fetch(e,{headers:{"Content-Type":"aplication/json","X-API-KEY":P}});case 3:return c=n.sent,n.next=6,c.json();case 6:o=n.sent,a.popUp_Data=o.data,a.showPopup(),a.getTrailer(T,t);case 10:case"end":return n.stop()}}),n)})))()},getTrailer:function(e,t){var a=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){var c,o,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=e+t+"/videos",n.next=3,fetch(e,{headers:{"Content-Type":"aplication/json","X-API-KEY":P}});case 3:return c=n.sent,n.next=6,c.json();case 6:o=n.sent,a.trailersData=o.trailers,p=o.trailers[0].url,43==p.length?(p=o.trailers[0].url,p=p.substring(32),a.URL_TRAILER_SIMBOL=p):(p=p.substring(17),a.URL_TRAILER_SIMBOL=p);case 10:case"end":return n.stop()}}),n)})))()},nextPage:function(e){e>=this.respPageCount||(e++,this.PAGE_CURRENT=e,this.getMovies(this.URL_CURRENT,this.PAGE_CURRENT))},lastPage:function(e){1!=e&&(e--,this.PAGE_CURRENT=e,this.getMovies(this.URL_CURRENT,this.PAGE_CURRENT))},showPopup:function(){this.SHOWPOPUP=!0;var e=document.querySelector("body");e.classList.add("lock")},closePopup:function(){this.SHOWPOPUP=!1;var e=document.querySelector("body");e.classList.remove("lock")}},beforeMount:function(){this.getMovies(E,1)}};a("b3c9");$.render=U;var z=$,Q={name:"App",components:{movieApp:z}};a("b8da");Q.render=c;var Z=Q;Object(n["b"])(Z).mount("#app")},"5bd8":function(e,t,a){},b3c9:function(e,t,a){"use strict";a("5bd8")},b470:function(e,t,a){},b8da:function(e,t,a){"use strict";a("c12b")},c12b:function(e,t,a){}});
//# sourceMappingURL=app.23d3b26a.js.map