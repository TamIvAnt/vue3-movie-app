(function(e){function t(t){for(var n,r,p=t[0],s=t[1],i=t[2],u=0,_=[];u<p.length;u++)r=p[u],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&_.push(c[r][0]),c[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(_.length)_.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,p=1;p<a.length;p++){var s=a[p];0!==c[s]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},c={app:0},o=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],s=p.push.bind(p);p.push=t,p=p.slice();for(var i=0;i<p.length;i++)t(p[i]);var l=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"43b6":function(e,t,a){},"43d1":function(e,t,a){"use strict";a("43b6")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function c(e,t,a,c,o,r){var p=Object(n["k"])("movieApp");return Object(n["g"])(),Object(n["c"])(p)}a("ac1f"),a("841c");var o={class:"header_content"},r=Object(n["f"])("h1",null,"MoviaApp",-1),p={class:"btn_change_url_top"},s={key:0,class:"top_text"},i={key:1,class:"top_text"},l={key:2,class:"top_text"},u={class:"container"},_=Object(n["f"])("div",{class:"card__img__dark"},null,-1),b={class:"card__name"},f={class:"card__year"},O=Object(n["e"])(" Год выпуска:   "),R={class:"card__year__item"},d={class:"card__genre"},j={class:"pagination_box__txt"},h={class:"pagination_box desctop"};function g(e,t,a,c,g,U){var P=Object(n["k"])("popup");return Object(n["g"])(),Object(n["c"])(n["a"],null,[Object(n["f"])("header",null,[Object(n["f"])("div",o,[r,Object(n["n"])(Object(n["f"])("input",{type:"text",placeholder:g.myPlaceholder,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.search=e}),onKeyup:t[2]||(t[2]=Object(n["o"])((function(e){return g.topName=g.search,g.searchSave=g.search,g.NAME_CATIGORY_NAME_CURRENT="",U.getMovies(g.API_URL_SEARCH)}),["enter"]))},null,40,["placeholder"]),[[n["m"],g.search]])])]),Object(n["f"])("div",p,[Object(n["f"])("button",{class:["btn url_top_100",{active:"100"==g.NAME_CATIGORY_NAME_CURRENT}],onClick:t[3]||(t[3]=function(e){return g.topName="ТОП 100",g.PAGE_CURRENT=1,g.NAME_CATIGORY_NAME_CURRENT="100",U.getMovies(g.API_URL_TOP_100,1)})}," Топ 100 ",2),Object(n["f"])("button",{class:["btn url_top_250",{active:"250"==g.NAME_CATIGORY_NAME_CURRENT}],onClick:t[4]||(t[4]=function(e){return g.topName="ТОП 250",g.PAGE_CURRENT=1,g.NAME_CATIGORY_NAME_CURRENT="250",U.getMovies(g.API_URL_TOP_250,1)})}," Топ 250 ",2),Object(n["f"])("button",{class:["btn url_awaits",{active:"await"==g.NAME_CATIGORY_NAME_CURRENT}],onClick:t[5]||(t[5]=function(e){return g.topName="ОЖИДАЕМЫЕ",g.PAGE_CURRENT=1,g.NAME_CATIGORY_NAME_CURRENT="await",U.getMovies(g.API_URL_AWAIT,1)})}," Ожидаемые ",2)]),"ОЖИДАЕМЫЕ"==g.topName||"ТОП 250"==g.topName||"ТОП 100"==g.topName?(Object(n["g"])(),Object(n["c"])("h2",s)):0==g.respData.length?(Object(n["g"])(),Object(n["c"])("h2",i," Неудалось ни чего найти! ")):(Object(n["g"])(),Object(n["c"])("h2",l,"По запросу:  "+Object(n["l"])(g.topName),1)),Object(n["f"])("div",u,[Object(n["f"])(P,{onClose:U.closePopup,SHOWPOPUP:g.SHOWPOPUP,popUp_Data:g.popUp_Data,FILMID:g.FILMID,CURRENT_RATING:g.CURRENT_RATING,trailersData:g.trailersData,URL_TRAILER_SIMBOL:g.URL_TRAILER_SIMBOL},null,8,["onClose","SHOWPOPUP","popUp_Data","FILMID","CURRENT_RATING","trailersData","URL_TRAILER_SIMBOL"]),(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(g.respData,(function(e){return Object(n["g"])(),Object(n["c"])("div",{class:"card",key:e.filmId},[Object(n["f"])("div",{class:"card__img__inner",onClick:function(t){return g.FILMID=e.filmId,g.CURRENT_RATING=e.rating,U.getMoviesForId(g.API_URL_SEARCH_MOVIE_ID,g.FILMID),U.showPopup()}},[_,Object(n["f"])("img",{class:"card__img",src:e.posterUrlPreview,alt:e.nameRu},null,8,["src","alt"])],8,["onClick"]),Object(n["f"])("p",b,Object(n["l"])(e.nameRu),1),Object(n["f"])("p",f,[O,Object(n["f"])("span",R,Object(n["l"])(e.year),1)]),Object(n["f"])("span",d,Object(n["l"])(e.genres[0].genre),1),Object(n["f"])("p",{class:["card__rating",{green:e.rating>=7,yellow:e.rating>5&e.rating<7,red:e.rating<5}]},Object(n["l"])(e.rating),3)])})),128))]),Object(n["f"])("div",{class:["pagination_box mobile",{none:0==g.respPageCount}]},[Object(n["f"])("button",{class:["lang",{disabled:1==g.PAGE_CURRENT}],onClick:t[6]||(t[6]=function(e){return U.lastPage(g.PAGE_CURRENT)})}," ⟨ ",2),Object(n["f"])("p",j,Object(n["l"])(g.PAGE_CURRENT),1),Object(n["f"])("button",{class:["lang",{disabled:g.PAGE_CURRENT==g.respPageCount}],onClick:t[7]||(t[7]=function(e){return U.nextPage(g.PAGE_CURRENT)})}," ⟩ ",2)],2),Object(n["f"])("div",h,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(g.respPageCount,(function(e){return Object(n["g"])(),Object(n["c"])("button",{class:["btn",{active:e==g.PAGE_CURRENT}],key:e,onClick:function(t){return g.PAGE_CURRENT=e,U.getMovies(g.URL_CURRENT,g.PAGE_CURRENT)}},Object(n["l"])(e),11,["onClick"])})),128))])],64)}var U=a("1da1"),P=(a("96cf"),a("d3b7"),"5dcd148b-1f37-4530-8cd3-27196447445d"),v="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_250_BEST_FILMS&page=1",A="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1",E="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_AWAIT_FILMS&page=1",I="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=",T="https://kinopoiskapiunofficial.tech/api/v2.1/films/",m="https://kinopoiskapiunofficial.tech/api/v2.1/films/",C=(a("a4d3"),a("e01a"),Object(n["p"])("data-v-5fe81fab"));Object(n["i"])("data-v-5fe81fab");var N={class:"popup_wrapper"},y={key:0,class:"popup"},L={class:"popup_header"},M={class:"popup_body"},w={class:"popup_body__left"},D={class:"popup_body__left__content"},k={class:"popup_body__right"},S=Object(n["f"])("span",{class:"popup_body_span"},"Описание",-1),G=Object(n["f"])("span",{class:"popup_body_span"}," Год выпуска ",-1),x=Object(n["f"])("span",{class:"popup_body_span"}," Рейтинг ",-1),H=Object(n["f"])("span",{class:"popup_body_span"}," Хронометраж ",-1),F=Object(n["f"])("span",{class:"popup_body_span"}," Хронометраж серии ",-1),W={class:"popup_body__trailer"},Y=Object(n["f"])("p",null,[Object(n["f"])("span",{class:"popup_body_span"},"Трейлер"),Object(n["e"])(":   ")],-1),B={class:"popup_body__link_watch"},K=Object(n["f"])("p",{class:"popup_body_span"}," Смотреть:    ",-1),V={class:"popup_footer"};Object(n["h"])();var X=C((function(e,t,a,c,o,r){return Object(n["g"])(),Object(n["c"])("div",N,[a.SHOWPOPUP&a.FILMID==a.popUp_Data.filmId?(Object(n["g"])(),Object(n["c"])("div",y,[Object(n["f"])("div",L,[Object(n["f"])("h3",null,Object(n["l"])(a.popUp_Data.nameRu),1),Object(n["f"])("p",{class:"close_popup",onClick:t[1]||(t[1]=function(t){return e.$emit("close","SHOWPOPUP")})},"x")]),Object(n["f"])("div",M,[Object(n["f"])("div",w,[Object(n["f"])("img",{class:"img_popup",src:a.popUp_Data.posterUrlPreview,alt:a.popUp_Data.nameRu},null,8,["src","alt"]),Object(n["f"])("div",D,[Object(n["f"])("p",{class:{show:null!=a.popUp_Data.ratingAgeLimits,none:null==a.popUp_Data.ratingAgeLimits}},Object(n["l"])(a.popUp_Data.ratingAgeLimits)+"+ ",3),Object(n["f"])("p",null,Object(n["l"])(a.popUp_Data.genres[0].genre),1)])]),Object(n["f"])("div",k,[Object(n["f"])("p",{class:{show:null!=a.popUp_Data.description,none:null==a.popUp_Data.description}},[S,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.description),1)],2),Object(n["f"])("p",null,[G,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.year),1)]),Object(n["f"])("p",null,[x,Object(n["e"])(":  "+Object(n["l"])(a.CURRENT_RATING),1)]),Object(n["f"])("p",{class:{show:null!=a.popUp_Data.filmLength,none:null==a.popUp_Data.filmLength}},[H,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.filmLength),1)],2),Object(n["f"])("p",{class:{show:"TV_SHOW"==a.popUp_Data.type||"TV_SERIES"==a.popUp_Data.type,none:"FILM"==a.popUp_Data.type}},[F,Object(n["e"])(":  "+Object(n["l"])(a.popUp_Data.filmLength),1)],2),Object(n["f"])("div",W,[Y,Object(n["f"])("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/"+a.URL_TRAILER_SIMBOL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},"\r\n                        ",8,["src"])]),Object(n["f"])("div",B,[K,Object(n["f"])("a",{class:"link_watch",href:a.popUp_Data.webUrl},Object(n["l"])(a.popUp_Data.webUrl),9,["href"])])])]),Object(n["f"])("div",V,[Object(n["f"])("p",{class:"close_popup",onClick:t[2]||(t[2]=function(t){return e.$emit("close","SHOWPOPUP")})},"Закрыть")])])):Object(n["d"])("",!0)])})),q={props:["SHOWPOPUP","popUp_Data","FILMID","CURRENT_RATING","trailersData","URL_TRAILER_SIMBOL"]};a("43d1");q.render=X,q.__scopeId="data-v-5fe81fab";var J=q,$={data:function(){return{API_KEY:P,API_URL_TOP_250:v,API_URL_TOP_100:A,API_URL_AWAIT:E,API_URL_SEARCH:I,API_URL_TRAILER:T,API_URL_SEARCH_MOVIE_ID:m,URL_CURRENT:"",PAGE_CURRENT:1,NAME_CATIGORY_NAME_CURRENT:"100",respData:{},popUp_Data:{},trailersData:[],respPageCount:0,myPlaceholder:"Поиск",search:"",searchSave:"",topName:"ТОП 100",SHOWPOPUP:!1,FILMID:0,CURRENT_RATING:"",URL_TRAILER_SIMBOL:""}},components:{popup:J},methods:{getMovies:function(e,t){var a=this;return Object(U["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return void 0==t&&(t=""),a.search&&(e+=a.search,a.search=""),e=e.substring(0,e.length-1)+t,a.URL_CURRENT=e,n.next=6,fetch(e,{headers:{"Content-Type":"aplication/json","X-API-KEY":P}});case 6:return c=n.sent,n.next=9,c.json();case 9:o=n.sent,a.respData=o.films,a.searchSave=a.searchSave.substring(0,a.searchSave.length-1),e==a.API_URL_SEARCH+a.searchSave?a.respPageCount=0:o.pagesCount>25?a.respPageCount=15:a.respPageCount=o.pagesCount,window.scrollTo(0,0);case 14:case"end":return n.stop()}}),n)})))()},getMoviesForId:function(e,t){var a=this;return Object(U["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e+=t,n.next=3,fetch(e,{headers:{"Content-Type":"aplication/json","X-API-KEY":P}});case 3:return c=n.sent,n.next=6,c.json();case 6:o=n.sent,a.popUp_Data=o.data,a.showPopup(),a.getTrailer(T,t);case 10:case"end":return n.stop()}}),n)})))()},getTrailer:function(e,t){var a=this;return Object(U["a"])(regeneratorRuntime.mark((function n(){var c,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=e+t+"/videos",n.next=3,fetch(e,{headers:{"Content-Type":"aplication/json","X-API-KEY":P}});case 3:return c=n.sent,n.next=6,c.json();case 6:o=n.sent,a.trailersData=o.trailers,r=o.trailers[0].url,43==r.length?(r=o.trailers[0].url,r=r.substring(32),a.URL_TRAILER_SIMBOL=r):(r=r.substring(17),a.URL_TRAILER_SIMBOL=r);case 10:case"end":return n.stop()}}),n)})))()},nextPage:function(e){e>=this.respPageCount||(e++,this.PAGE_CURRENT=e,this.getMovies(this.URL_CURRENT,this.PAGE_CURRENT))},lastPage:function(e){1!=e&&(e--,this.PAGE_CURRENT=e,this.getMovies(this.URL_CURRENT,this.PAGE_CURRENT))},showPopup:function(){this.SHOWPOPUP=!0;var e=document.querySelector("body");e.classList.add("lock")},closePopup:function(){this.SHOWPOPUP=!1;var e=document.querySelector("body");e.classList.remove("lock")}},beforeMount:function(){this.getMovies(A,1)}};a("b3c9");$.render=g;var z=$,Q={name:"App",components:{movieApp:z}};a("b8da");Q.render=c;var Z=Q;Object(n["b"])(Z).mount("#app")},"5bd8":function(e,t,a){},b3c9:function(e,t,a){"use strict";a("5bd8")},b8da:function(e,t,a){"use strict";a("c12b")},c12b:function(e,t,a){}});
//# sourceMappingURL=app.f2db5b0c.js.map